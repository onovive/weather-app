var Client=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t){var o=document.querySelector(".continue"),n=document.querySelector("#city"),r=document.querySelector("#leaving"),a=document.querySelector("#returning"),c=(document.querySelector(".search_box"),document.querySelector(".result_box")),l=document.querySelector("#img"),u=document.querySelector("#country_info"),i=document.querySelector("#city_info"),s=document.querySelector("#weather_info");const d="16992641-bb3cab3a06cd465afa4715255";var f="",p="",h=!1,y=0,g=new Date;function m(e){e.style.border="1px solid rgb(189, 25, 25)",e.style.borderRadius="2px"}function b(e){e.style.border="1px solid black"}o.addEventListener("click",(function(e){let t=0;if(""!==n.value?(b(n),t++):m(n),""!==r.value){let e=(y=new Date(r.value)).getYear()>g.getYear(),o=y.getYear()===g.getYear(),n=y.getMonth()>g.getMonth(),a=y.getMonth()===g.getMonth(),c=y.getDate()>=g.getDate();e||o&&(n||a&&c)?(b(r),t++):m(r)}else m(r);""!==a.value&&new Date(a.value)>y?(b(a),t++):m(a),3===t&&(f=n.value.toLowerCase(),async function(){f&&(await async function(e){return new Promise((t,o)=>{let r=encodeURI(e);fetch(`http://api.geonames.org/postalCodeSearchJSON?placename=${r}&maxRows=1&username=onono`).then(e=>e.json()).then(e=>{var o;0!==e.postalCodes.length?(h=!0,e.postalCodes[0].lat,e.postalCodes[0].lng,p=e.postalCodes[0].placeName,(o=e.postalCodes[0].countryCode,new Promise((e,t)=>{fetch("http://api.geonames.org/postalCodeCountryInfoJSON?formatted=true&&username=onono&style=full").then(e=>e.json()).then(t=>{let n=t.geonames.filter(e=>e.countryCode===o);e(n[0].countryName)}).catch(e=>{console.log(e)})})).then(e=>{u.textContent=e}).catch(e=>{console.log(e)}),n.value=p,i.textContent=p,b(n)):(m(n),h=!1),t(1)}).catch(e=>{console.log(e)})})}(f),h&&(!function(e){let t=function(e,t){let o=t-e;return Math.round(o/864e5)}(g,y);t+=2;let o="";o=`https://api.weatherbit.io/v2.0/forecast/daily?city=${e}&key=34bc3d5d80dd4248923dfc2e65a0ad63&days=${t}`,fetch(o).then(e=>e.json()).then(e=>{if(0!==e.data.length){let t=e.data,o=t[t.length-1];s.textContent=`${o.max_temp}° C / ${o.min_temp}° C, ${o.weather.description}`}}).catch(e=>{console.log(e)})}(p),function(e){let t=`https://pixabay.com/api/?key=${d}&q=${e}&image_type=photo&category=travel`;fetch(t).then(e=>e.json()).then(e=>{0!==e.total?(l.src=e.hits[0].webformatURL,l.style.border="1px solid white"):(t=`https://pixabay.com/api/?key=${d}&q=luggage&image_type=photo`,fetch(t).then(e=>e.json()).then(e=>{l.src=e.hits[0].webformatURL,l.style.border="1px solid white"}).catch(e=>{console.log(e)}))}).catch(e=>{console.log(e)})}(p),c.classList.remove("hidden")))}())}))},function(e,t,o){"use strict";o.r(t);var n=o(0);o.d(t,"getDetails",(function(){return n.getDetails}));o(2)},function(e,t,o){}]);